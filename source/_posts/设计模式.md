---
title: 设计模式
date: 2019-09-09 17:54:43
tags: 秋招笔记
---

参考书籍《设计模式之禅》

<!-- more -->

***

# 设计模式

### 设计模式的一些概念
1. 软件设计的金科玉律：复用性；
2. 解决复杂性的方法：分解，抽象（也就是把变化的部分抽象出来。）
3. 从目的来看，分为：
    * 创建型模式
    * 结构型模式
    * 行为型模式
4. 从范围来看：
    * 类模式处理类与子类的静态关系
    * 对象模式处理对象间的动态关系
5. 重构关键技法：
    * 静态->动态
    * 早绑定->晚绑定
    * 继承->组合
    * 编译时依赖->运行时依赖
    * 紧耦合->松耦合
6. 面向对象设计原则：
    * 依赖倒置原则
    * 开放封闭原则
    * 单一职责原则
    * 替换原则
    * 接口隔离原则
    * 优先使用对象组合，而不是类继承
    * 封装变化点
    * 针对接口编程，而不是针对实现编程

### 常见的设计模式有：
* 单例模式：
    保证一个类仅有一个实例（私有构造函数），并提供一个访问它的全局访问点。  **主要优势是** 避免一个全局使用的类对象 频繁地创建与销毁，控制实例，避免对资源的多重占用，可以全局访问。**主要缺点是** 不能被继承，不适用于会在不同场景动态变化的对象。

* 工厂模式：
    通过"对象创建"模式绕开`new`，避免对象创建`new`过程中所导致的紧耦合。也就是将构造哦对象所调用的语句放在一个虚函数中，用它来动态创建对应的对象（利用多态）。
    
* 观察者模式：
    主要是处理**一对多的依赖关系**，当一个对象发生改变时，所有依赖于它的对象都得到通知并自动更新，具体主体的实现由观察者所观察的状态决定。<font color=red> 抽象 通知依赖关系 </font>
    
* 适配器模式：

* Template Method：
    将主流程写至Lib库中，只需要应用端复写相应方法即可，支持变化，将早绑定改为晚绑定（稳定中有变化）。
    
* 代理模式：（接口隔离）
    当我们想访问某些对象时，还有其他的一些需求（例如：安全控制，进程外访问）。但又想像透明操作半访问这些对象，会添加一层间接层（例如`copy-on-write`）
